<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org"><head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
            crossorigin="anonymous"></script>
    <!--    CSS Link-->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/style.css}" />
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/login.css}" />
    <!--    Google Fonts Link of Navbar-Brand -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@900&display=swap" rel="stylesheet">
    <!--Font Awesome Link    -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>login</title>



\


<body>
<div th:replace="~{fragments/navbar :: header}">Hier komt de navbar</div>

<section class="body2">
<div class="main">
    <input type="checkbox" id="chk" aria-hidden="true">


    <div>
        <form id="new-password-form" th:action="@{'/user/password-reset/' + ${secretKey} + '/change-password'}" method="post">
            <label for="new-password" style="font-size: 20px; margin: 30px">New Password</label>
            <input type="password" id="new-password" name="newPassword" style="font-size: 16px;" required>
            <label for="confirm-password" style="font-size: 20px; margin: 30px">Confirm Password</label>
            <input type="password" id="confirm-password" name="confirmPassword" style="font-size: 16px;" required>
            <button id="password-submit-btn" class="buttonLogin" type="submit" disabled>Submit</button>
            <div id="error-message" style="display: none; text-align: center; margin: 5px 20px;color: red;"></div>
        </form>
    </div>


</div>

</section>

<script>
    // Event listener for password input fields
    document.getElementById('new-password').addEventListener('input', checkPasswords);
    document.getElementById('confirm-password').addEventListener('input', checkPasswords);

    // Function to check if passwords match
    function checkPasswords() {
        var newPassword = document.getElementById('new-password').value;
        var confirmPassword = document.getElementById('confirm-password').value;

        // Check if passwords match
        var passwordsMatch = newPassword === confirmPassword;

        // Enable or disable submit button based on password match
        document.getElementById('password-submit-btn').disabled = !passwordsMatch;

        // Show or hide error message based on password match
        var errorMessage = document.getElementById('error-message');
        errorMessage.style.display = passwordsMatch ? 'none' : 'block';
        errorMessage.textContent = passwordsMatch ? '' : 'Passwords do not match. Please try again.';
    }

    // Event listener for form submission
    document.getElementById('new-password-form').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent form submission

        // Perform further validation or submit the form
        var newPassword = document.getElementById('new-password').value;
        var confirmPassword = document.getElementById('confirm-password').value;

        if (newPassword === confirmPassword) {
            // Passwords match, proceed with form submission
            this.submit();
        } else {
            // Passwords don't match, display an error message
            var errorMessage = document.getElementById('error-message');
            errorMessage.style.display = 'block';
            errorMessage.textContent = 'Passwords do not match. Please try again.';
        }
    });
</script>

<script src="/JS/toys.js"></script>


</body>

</html>